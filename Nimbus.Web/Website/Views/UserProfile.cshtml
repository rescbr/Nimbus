@model Nimbus.Web.Website.Models.UserProfileModel
@{
    ViewBag.Title = "Home";
    Layout = "~/Website/Views/Shared/_Layout.cshtml";
    }

@Scripts.Render(("~/Scripts/modal.js"))
@Scripts.Render(("~/Scripts/ckeditor/ckeditor.js"))
@Styles.Render(("~/Styles/modal.css"))


<div class="SendMessage">
    <p><a href="#modal-text" class="call-modal">Enviar Mensagem</a></p> <!-- clicavel -->
</div>

<div class="ProBar">
    <div class="ProfileImg">             
        @if (Model.User.Id == Model.CurrentUser.UserId)
        {
            <a href="#modal-img" class="call-modal"><img src="@Model.User.AvatarUrl" alt="Editar avatar" title="Avatar"/></a>                
        }
        else
        {
              <img src="@Model.User.AvatarUrl" alt="@Model.User.FirstName" title="Avatar"  />
        }
    </div>

    @*Se for o usuário do perfil*@
    @if(Model.User.Id == Model.CurrentUser.UserId)
    {
    <div class="ProfileEdit">
        <p>Edit</p><!--clicavel-->
    </div>
    }
    <div class="AboutUser">
        <h1>@Model.User.FirstName @Model.User.LastName</h1>
        <p>Idade: @Model.User.Age</p>
       @if(!string.IsNullOrEmpty(Model.User.City) && !string.IsNullOrEmpty(Model.User.State))
       {
           <p>@Model.User.City - @Model.User.State</p>
       } 
         @if(!string.IsNullOrEmpty(Model.User.Occupation))
         {  
            <p>Profissão:@Model.User.Occupation</p>
         }
         @if(!string.IsNullOrEmpty(Model.User.Interest))
         {
            <p>Interesses: @Model.User.Interest</p>
         }
         @if(!string.IsNullOrEmpty(Model.User.Experience))
         {
            <p>Experiências: @Model.User.Experience</p>
         }
         @if(!string.IsNullOrEmpty(Model.User.About))
         {
             <p>Outras informações: </p>
             <p class="AboutUser-other">@Model.User.About</p>
         }
        
    </div>

    @*Se não for o usuário*@
    @if(Model.User.Id != Model.CurrentUser.UserId)
    {
    <div class="SendMessage">
        <p><a href="#modal-text" class="call-modal">Enviar Mensagem</a></p> <!-- clicavel -->
    </div>
    }
    else
    {
    <div class="Participation">
        <h1>Participação</h1>
        <p>@Model.User.Interaction %</p>
    </div>
    }
    <div class="ChanPaid">
        <h1>Canais Pagos</h1>
        <div class="Channels">
            @foreach (var item in Model.ChannelPaid)
            {             
                 <div class="ChanPaidImg">
                     <img src="@item.ImgUrl" alt="@item.Name" <!--title="blabla-->" /> 
                 </div>              
            }
        </div>
    </div>

</div>

@*Modal section*@
<section class="semantic-content" id="modal-text" tabindex="-1" role="dialog" aria-labelledby="modal-label" aria-hidden="true">
    <div class="modal-inner">
        <header id="modal-label"><!-- Header --></header>
        <div class="modal-content">
        <!-- The modals content -->
            <p>Para: @Model.User.FirstName @Model.User.LastName</p>
            <p>Assunto:
                <input name="inpTitleMsg" type="text" maxlength="100" />
            </p>
            <p>
                <textarea id="txtTextMsg" name="txtTextMsg" rows="10" cols="60" required class="ckeditor"></textarea>
            </p>
        </div>
        <footer>
        <!-- Footer -->
            <button>Enviar</button>
        </footer>
    </div>

    <a href="#!" class="modal-close" title="Close this modal" data-close="Close"
       data-dismiss="modal">×</a>
</section>

<section class="semantic-content" id="modal-img" tabindex="-1" role="dialog" aria-labelledby="modal-label" aria-hidden="true">
    <div class="modal-inner">
        <header id="modal-label">
            <!-- Header -->
            Editar avatar
        </header>
        <div class="modal-content">
            <!-- The modals content -->
           
        </div>
        <footer>
            <!-- Footer -->
            <button>Salvar</button>
        </footer>
    </div>

    <a href="#!" class="modal-close" title="Close this modal" data-close="Close"
       data-dismiss="modal">×</a>
</section>

<div style="float:right;">
    @RenderPage("~/Website/Views/PrivateProfileTopBar.cshtml")
</div>

@*Sempre manter no fim da página*@
<script type="text/javascript">
    CKEDITOR.replace('txtTextMsg', {
        toolbar: [
            { name: 'document', items: ['Source', '-', 'NewPage', 'Preview', '-', 'Templates'] },	// Defines toolbar group with name (used to create voice label) and items in 3 subgroups.
            ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo'],			// Defines toolbar group without name.
            '/',																					// Line break - next group will be placed in new line.
            { name: 'basicstyles', items: ['Bold', 'Italic'] }
        ]
    });
</script>